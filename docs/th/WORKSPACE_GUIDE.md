# คู่มือการใช้งานโฟลเดอร์ Workspace

เอกสารนี้อธิบายตำแหน่งโฟลเดอร์ `workspace` ที่แอป Chahua Code Animator ใช้งาน วิธีเตรียมไฟล์สำหรับโหมดพัฒนา และขั้นตอนเมื่อบีบหรือแพ็กเป็นแอปเดสก์ท็อปเต็มรูปแบบ

## ทำไมต้องใช้โฟลเดอร์ `workspace`

ระบบรักษาความปลอดภัย (security-core) จะยอมให้โหลดเฉพาะไฟล์ที่อยู่ในโฟลเดอร์ที่ไว้ใจได้เท่านั้น การเก็บไฟล์ไว้ใน `workspace` ทำให้ทั้งตัวเรนเดอร์และระบบความปลอดภัยเห็นเส้นทางเดียวกันและลดความสับสน

## โหมดพัฒนา (`npm start` / `electron .`)

- โฟลเดอร์หลัก: `<repo-root>/workspace`
- ขั้นตอนที่แนะนำ:
  1. คัดลอกหรือสร้างไฟล์ Markdown / โค้ดที่ต้องการในโฟลเดอร์ `workspace` ตรงรากโปรเจกต์
  2. ใช้ปุ่ม **Browse Files** หรือการลากจากโฟลเดอร์นี้เข้าสู่แผง File Selection
  3. ข้อความช่วยเหลือในหน้าแอปจะแสดงเส้นทางแบบเต็มเพื่อให้ตรวจสอบได้ทันที

## แอปเดสก์ท็อปที่แพ็กแล้ว (ไฟล์ zip หรือชุดติดตั้ง)

ขึ้นอยู่กับรูปแบบการเผยแพร่ คุณอาจเจอโฟลเดอร์ `workspace` ที่แตกต่างกันดังนี้

| รูปแบบ | ตำแหน่งโฟลเดอร์ workspace |
| --- | --- |
| ชุดพกพา/โฟลเดอร์ที่แตกไฟล์แล้ว | `Chahua Code Animator\workspace` (อยู่ข้างไฟล์ .exe) |
| ติดตั้งผ่าน Windows Installer (MSIX/NSIS) | `%LOCALAPPDATA%\Programs\Chahua Code Animator\workspace` |
| สำรองต่อผู้ใช้ (fallback) | `%APPDATA%\Chahua Code Animator\workspace` (เส้นทาง `userData` ของ Electron) |

คำแนะนำเพิ่มเติม:

- แอปจะสร้าง workspace ภายใต้ `%APPDATA%` ให้โดยอัตโนมัติถ้าตำแหน่งติดตั้งหลักเขียนไฟล์ไม่ได้ ใช้ปุ่ม **Open workspace folder** ในแอปเพื่อเปิดตำแหน่งที่กำลังใช้งานทันที
- สามารถย้ายไฟล์ Markdown หรือโค้ดไปไว้ที่ workspace ใดก็ได้ที่ถูกตรวจพบ รายการทั้งหมดจะแสดงอยู่ในแผง File Selection เพื่อช่วยตัดสินใจ

## ใช้งานแผง File Selection ให้เต็มประสิทธิภาพ

1. กด **Open workspace folder** เพื่อเปิดโฟลเดอร์ที่แอปใช้งานจริงใน File Explorer
2. ทำตามขั้นตอนแบบสองภาษาในแผงช่วยเหลือเพื่อนำไฟล์ไปไว้ใน workspace ที่ถูกต้อง
3. ใช้ **Browse Files** หรือการลากจากโฟลเดอร์นั้น ไฟล์ที่อยู่นอก workspace จะถูกปฏิเสธเพื่อกันข้อผิดพลาด
4. ต้องการรายละเอียดเพิ่ม? คลิกปุ่ม **คู่มือการใช้งาน (TH)** หรือ **Usage guide (EN)** เพื่อเปิดเอกสารนี้จากแอปได้ทันที

## การแก้ปัญหาที่พบบ่อย

- **ขึ้นข้อความ Security Error เมื่อโหลดไฟล์** – ตรวจสอบว่านามสกุลไฟล์ได้รับอนุญาตและไฟล์อยู่ในหนึ่งในเส้นทาง workspace ด้านบน
- **หาเส้นทาง workspace ไม่เจอ** – ใช้ปุ่ม **Open workspace folder** โฟลเดอร์ที่เปิดขึ้นคือ workspace ที่แอปใช้งานจริงในรอบนั้น
- **โฟลเดอร์ติดตั้งหลักเขียนไฟล์ไม่ได้** – แอปจะสลับไปใช้ `%APPDATA%\Chahua Code Animator\workspace` อัตโนมัติ ให้วางไฟล์ที่นั่นแทน

เก็บไฟล์ทั้งหมดไว้ใน workspace เพื่อให้แอปทำงานได้ปลอดภัยและคาดเดาได้ในทุกเวอร์ชันของ Chahua Code Animator.